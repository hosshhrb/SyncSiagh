import { PrismaService } from '../prisma.service';
import { SyncStatus, SystemType } from '@prisma/client';
import { SyncDirection, TriggerType } from '../../common/types/sync.types';
export interface CreateSyncLogDto {
    transactionId: string;
    entityMappingId: string;
    direction: SyncDirection;
    status: SyncStatus;
    triggerType: TriggerType;
    triggerPayload?: any;
    sourceSystem: SystemType;
    targetSystem: SystemType;
    sourceEntityId: string;
    targetEntityId?: string;
    sourceData: any;
    targetDataBefore?: any;
    targetDataAfter?: any;
    errorMessage?: string;
    errorStack?: string;
}
export declare class SyncLogRepository {
    private prisma;
    constructor(prisma: PrismaService);
    create(data: CreateSyncLogDto): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }>;
    complete(id: string, data: {
        status: SyncStatus;
        targetEntityId?: string;
        targetDataAfter?: any;
        errorMessage?: string;
        errorStack?: string;
    }): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }>;
    incrementRetry(id: string): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }>;
    findByTransactionId(transactionId: string): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }[]>;
    findByEntityMapping(entityMappingId: string, limit?: number): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }[]>;
    findFailedForRetry(maxRetries: number): Promise<{
        id: string;
        transactionId: string;
        direction: string;
        status: import(".prisma/client").$Enums.SyncStatus;
        triggerType: string;
        triggerPayload: import("@prisma/client/runtime/library").JsonValue | null;
        sourceSystem: import(".prisma/client").$Enums.SystemType;
        targetSystem: import(".prisma/client").$Enums.SystemType;
        sourceEntityId: string;
        targetEntityId: string | null;
        sourceData: import("@prisma/client/runtime/library").JsonValue;
        targetDataBefore: import("@prisma/client/runtime/library").JsonValue | null;
        targetDataAfter: import("@prisma/client/runtime/library").JsonValue | null;
        errorMessage: string | null;
        errorStack: string | null;
        retryCount: number;
        startedAt: Date;
        completedAt: Date | null;
        durationMs: number | null;
        entityMappingId: string;
    }[]>;
    getStats(hoursBack?: number): Promise<{
        total: number;
        success: number;
        failed: number;
        inProgress: number;
    }>;
}
